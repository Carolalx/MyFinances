{% extends "base.html" %}

{% block content %}
<main class="container">
  <section class="form-container card" aria-labelledby="sim-title">
    <h1 id="sim-title">Simulador de Rentabilidade (Juros Compostos)</h1>

    <form id="simuladorForm" class="form-body" autocomplete="off">
      <div class="input-group">
        <h3 class="input-help">Com quanto voc√™ quer come√ßar?</h3>
        <label for="starting_capital"></label>
        <input id="starting_capital" type="number" min="0" step="0.01" required>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->   
      </div>

      <div class="input-group">
        <h3 class="input-help">Quanto voc√™ pretende investir mensalmente?</h3>        
        <label for="contribution"</label>
        <input id="contribution" type="number" min="0" step="0.01" required>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->          
      </div>

      <div class="input-group">
        <h3 class="input-help">A cada 12 meses voc√™ quer aumentar seu aporte mensal em quantos (%)?</h3>   
        <label for="contribution_tax"></label>
        <input id="contribution_tax" type="number" step="0.01" value="0">
        <p class="input-help">Exemplo: caso comece com 100,00 todo mes e queira aumentar 10% informe 10 ->
        ano 1: 100,00; ano 2: 110,00; ano 3: 121,00; e assim por diante (...)
        Veja a tabela de evolu√ß√£o para entender melhor como funciona o aumento do aporte mensal.</p>
        <p class="input-help">Se n√£o quiser aumentar o aporte, deixe 0</p>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->          
      </div>
      
      <div class="input-group">
        <h3 class="input-help">Taxa de Juros Anual (%)?</h3> 
        <input id="taxaJuros" type="number" step="0.01" required>        
        <label for="taxaJuros">Se n√£o souber, informe 15 (padr√£o de taxa b√°sica do mercado atual)</label>
        <p for="taxaJuros">üí°Dica: Pesquise no Google "SELIC √∫ltimos 12 meses e tenha a taxa atualizada"</p>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->   
      </div>

      <div class="input-group">
        <label for="periodo">Per√≠odo de Investimento (em Anos)</label>
        <input id="periodo" type="number" min="1" step="1" required>
        <br>
        <br>
        <br>     
      </div>

      <button class="primary" type="submit">
        <i class="fa-solid fa-calculator"></i> Simular
      </button>
    </form>

    <div id="resultadoArea" class="resultado" style="display:none;">
      <h2>Resultado</h2>
      <p>Montante Final: <strong id="montanteFinal"></strong></p>
      <p>Valor Investido: <strong id="valorInvestido"></strong></p>      
      <p>Total de Juros: <strong id="totalJuros"></strong></p>
      <p>Renda Mensal Aproximada: <strong id="rendaMensal" style="color:#4fa3f7"></strong></p>

      <!-- Gr√°fico -->
      <canvas id="graficoInvestimento" style="margin-top:20px; max-width:100%;"></canvas>
      <!-- Tabela de evolu√ß√£o -->
      <div class="table-container" style="margin-top:20px;">
        <table id="tabelaEvolucao" class="responsive-table">
          <thead>
            <tr>
              <th>M√™s</th>
              <th>Patrim√¥nio</th>
              <th>Aporte</th>
              <th>Renda Mensal</th>
            </tr>
          </thead>
          <tbody>
            <!-- Linhas ser√£o preenchidas via JS -->
          </tbody>
        </table>
      </div>

    </div>

  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="{{ url_for('static', filename='js/simulador_invest.js') }}"></script>

{% endblock %}

{% extends "base.html" %}

{% block content %}
<main class="container">
  <section class="form-container card" aria-labelledby="sim-title">
    <h1 id="sim-title">Simulador de Rentabilidade (Juros Compostos)</h1>

    <form id="simuladorForm" class="form-body" autocomplete="off">
      <div class="input-group">
        <h3 class="input-help">Com quanto vocÃª quer comeÃ§ar?</h3>
        <label for="starting_capital"></label>
        <input id="starting_capital" type="number" min="0" step="0.01" required>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->   
      </div>

      <div class="input-group">
        <h3 class="input-help">Quanto vocÃª pretende investir mensalmente?</h3>        
        <label for="contribution"</label>
        <input id="contribution" type="number" min="0" step="0.01" required>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->          
      </div>

      <div class="input-group">
        <h3 class="input-help">A cada 12 meses vocÃª quer aumentar seu aporte mensal em quantos (%)?</h3>   
        <label for="contribution_tax"></label>
        <input id="contribution_tax" type="number" step="0.01" value="0">
        <p class="input-help">Exemplo: caso comece com 100,00 todo mes e queira aumentar 10% informe 10 ->
        ano 1: 100,00; ano 2: 110,00; ano 3: 121,00; e assim por diante (...)
        Veja a tabela de evoluÃ§Ã£o para entender melhor como funciona o aumento do aporte mensal.</p>
        <p class="input-help">Se nÃ£o quiser aumentar o aporte, deixe 0</p>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->          
      </div>
      
      <div class="input-group">
        <h3 class="input-help">Taxa de Juros Anual (%)?</h3> 
        <input id="taxaJuros" type="number" step="0.01" required>        
        <label for="taxaJuros">Se nÃ£o souber, informe 15 (padrÃ£o de taxa bÃ¡sica do mercado atual)</label>
        <p for="taxaJuros">ğŸ’¡Dica: Pesquise no Google "SELIC Ãºltimos 12 meses e tenha a taxa atualizada"</p>
        <br>
        <br>
        <br>
        <hr> <!-- linha separadora -->   
      </div>

      <div class="input-group">
        <label for="periodo">PerÃ­odo de Investimento (em Anos) || ğŸ’¡Dica: Simule 30 anos para ver a tabela completa</label>
        <input id="periodo" type="number" min="1" step="1" required>
        <br>
        <br>
        <br>     
      </div>

      <button class="primary" type="submit">
        <i class="fa-solid fa-calculator"></i> Simular
      </button>
    </form>
    <h4> Perceba que a curva apÃ³s o ano 20 Ã© muito mais acentuada, isso acontece
       por conta do poder dos juros compostos.
    </h4>
    
    <h4> AÃ­ vocÃª pode estar pensando: "Ah, mas eu nÃ£o vou conseguir investir 
      por 20 anos, quem dirÃ¡ 30..isso Ã© muito tempo!" 
        E Ã© verdade, mas o mais importante Ã© comeÃ§ar o quanto antes, mesmo que
        seja com um valor pequeno. 
        O tempo Ã© o melhor amigo do investidor, e quanto mais cedo comeÃ§ar, mais
        tempo seu dinheiro terÃ¡ para crescer.
    </h4>

    <h4> Comece com uma meta de R$ 5.000,00... matenha a disciplina de separar algum valor
      TODOS os meses.. que seja R$ 50,00 (vocÃª consome isso em pizza que eu sei)!
      Depois dobre a meta... quando vocÃª chegar aos 
      R$ 50.000,00 vocÃª terÃ¡ uma renda extra de R$ 500,00 aproximandamente... 
      Com R$ 100.000,00 vocÃª ja passa a receber R$ 1.000 todos os meses.. 
      Pense, jÃ¡ Ã© parte de um carro / casa que vocÃª nÃ£o precisa tirar do bolso... ğŸ‘
      Ã© seu proprio dinheiro trabalhando pagar suas contas SEM MEXER NO PATRIMONIO! ğŸš€ 
    </h4>    

    <div id="resultadoArea" class="resultado" style="display:none;">
      <h2>Resultado</h2>
      <p>Montante Final: <strong id="montanteFinal"></strong></p>
      <p>Valor Investido: <strong id="valorInvestido"></strong></p>      
      <p>Total de Juros: <strong id="totalJuros"></strong></p>
      <p>Renda Mensal Aproximada: <strong id="rendaMensal" style="color:#4fa3f7"></strong></p>

      <!-- GrÃ¡fico -->
      <div class="chart-wrapper">
          <canvas id="graficoInvestimento"></canvas>
      </div>
          <!-- Tabela de evoluÃ§Ã£o -->
      <div class="table-container" style="margin-top:20px;">
        <table id="tabelaEvolucao" class="responsive-table">
          <thead>
            <tr>
              <th>MÃªs</th>
              <th>PatrimÃ´nio</th>
              <th>Aporte</th>
              <th>Renda Mensal</th>
            </tr>
          </thead>
          <tbody>
            <!-- Linhas serÃ£o preenchidas via JS -->
          </tbody>
        </table>
      </div>

    </div>

  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="{{ url_for('static', filename='js/simulador_invest.js') }}"></script>

{% endblock %}

{% extends "base.html" %}

{% block content %}
<main class="container">
  <section class="form-container card" aria-labelledby="sim-title">
    <h1 id="sim-title">Simulador de Rentabilidade (Juros Compostos)</h1>

    <form id="simuladorForm" class="form-body" autocomplete="off">
      <div class="input-group">
        <label for="starting_capital">Capital Inicial (R$) -- Quanto você tem investido, reservado ou guardado hoje.</label>
        <input id="starting_capital" type="number" min="0" step="0.01" required>
      </div>

      <div class="input-group">
        <label for="contribution">Aporte Mensal (R$) -- Quanto você quer aplicar mensalmente.</label>
        <input id="contribution" type="number" min="0" step="0.01" required>
      </div>

      <div class="input-group">
        <label for="contribution_tax">Taxa Anual de Aumento do Aporte (%) -- Se quiser aumentar seu aporte a cada 12 meses.</label>
        <input id="contribution_tax" type="number" step="0.01" value="0">
      </div>

      <div class="input-group">
        <label for="taxaJuros">Taxa de Juros Anual (%) -- Se não souber, informe 15 (padrão SELIC atual)</label>
        <input id="taxaJuros" type="number" step="0.01" required>
      </div>

      <div class="input-group">
        <label for="periodo">Período de Investimento (Anos)</label>
        <input id="periodo" type="number" min="1" step="1" required>
      </div>

      <button class="primary" type="submit">
        <i class="fa-solid fa-calculator"></i> Simular
      </button>
    </form>

    <div id="resultadoArea" class="resultado" style="display:none;">
      <h2>Resultado</h2>
      <p>Montante Final: <strong id="montanteFinal"></strong></p>
      <p>Total de Juros: <strong id="totalJuros"></strong></p>
      <p>Renda Mensal Aproximada: <strong id="rendaMensal" style="color:#4fa3f7"></strong></p>

      <!-- Gráfico -->
      <canvas id="graficoInvestimento" style="margin-top:20px; max-width:100%;"></canvas>
    </div>

  </section>
</main>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/script.js') }}"></script>
<script src="{{ url_for('static', filename='js/simulador_invest.js') }}"></script>

{% endblock %}
